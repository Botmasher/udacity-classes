<html>
<body>

<canvas id = "c"></canvas>

<script type = "text/javascript">
	
	// create an empty array of specified length
	var a = [];	
	a.length = 256;
	a = Array.apply(this, a);

	var imgAtlas = {
		// the image within the atlas
		'img1.png' : {
			url: 'http://www.example.com/img1.png',
			frame: {
				x: 0,
				y: 0,
				w: 10,
				h: 10
			},
			rotated: false,
			trimmed: false,
			// for drawing to our canvas
			spriteSourceSize: {
				x: 0,
				y: 0,
				w: 10,
				h: 10
			},
			sourceSize: {
				w: 10,
				h: 10
			}
		}
	};

	// grab the canvas element and canvas context
	var c = document.getElementById("c");
	c.width = 1280;
	c.height = 720;
	ctx = c.getContext("2d");

	function draw (image, positionX, positionY) {
		ctx.drawImage (image, positionX, positionY);
	}

	// build images array
	var frame = 0;
	var frames = []; 			// array of images
	var counter = 0;
	for (var img in imgAtlas) {
		console.log (imgAtlas[img])
		frames.push(new Image());
		frames[counter].onload = function(){
			//draw (frames[counter], 0, 0);
		};
		// build img src from JSON root URL + image name
		frames[counter].src = imgAtlas[img]['url'];
		counter++;
	}

	// perform flipbook animation
	window.setInterval (function() {
		draw (frames[frame], 0, 0)
		frame = (frame + 1) % frames.length; 	// handles 0, n
	}, 40);

</script>

</body>
</html>